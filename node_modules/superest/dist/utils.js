"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mixinStatic = exports.transformCase = void 0;
function transformCase(data, handler) {
    if (!handler ||
        ![Object, Array].includes(data
            .constructor))
        return data;
    if (data instanceof Array)
        return data.map((v) => transformCase(v, handler));
    for (const [k, v] of Object.entries(data)) {
        delete data[k];
        data[handler(k)] = (v && typeof v == "object"
            ? transformCase(v, handler)
            : v);
    }
    return data;
}
exports.transformCase = transformCase;
function mixinStatic(base, ...mixins) {
    const BUILT_IN_KEYS = [
        "apply",
        "arguments",
        "bind",
        "call",
        "caller",
        "length",
        "name",
        "prototype",
        "toString",
    ];
    mixins.forEach((mixin) => {
        const descriptors = Object.entries(Object.getOwnPropertyDescriptors(mixin)).filter(([k, d]) => !BUILT_IN_KEYS.includes(k));
        descriptors.forEach(([k, d]) => {
            var _a, _b;
            if ((_b = (_a = Object.getOwnPropertyDescriptor(base, k)) === null || _a === void 0 ? void 0 : _a.configurable) !== null && _b !== void 0 ? _b : true)
                Object.defineProperty(base, k, d);
        });
    });
    return base;
}
exports.mixinStatic = mixinStatic;
//# sourceMappingURL=utils.js.map